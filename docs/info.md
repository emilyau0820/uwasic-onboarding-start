## How it works

Utilizes a high-frequency core clock to oversample the asynchronous SPI interface for accurate clock-edge detection. Two-stage flip-flop synchronizers were implemented to mitigate metastability during clock domain crossings. IO interfaces were defined, and the RTL behavior was verified using Cocotb testbenches and GTKWave waveform analysis, including tests for edge cases and PWM duty cycle/frequency variations.

## How to test

The Cocotb testbenches (test.py) can be used to drive the SPI signals asynchronously while monitoring the peripheral’s responses, checking for correct clock-edge detection and data integrity. Waveform analysis tools like GTKWave help visualize signal timing and identify any glitches or metastability issues. Testing the SPI peripheral includes verifying its ability to accurately handle a 3 kHz PWM signal generated by the PWM peripheral. The testbench checks that the measured frequency remains within a tolerance range of 2970 to 3030 Hz. Duty cycle tests are performed at 0%, 50%, and 100% to ensure correct signal interpretation. Edge detection logic is used to track the PWM signal’s rising and falling edges, confirming proper timing and data capture across different duty cycles and frequencies.


## External hardware

No external hardware components were required or used for this project. The design is fully implemented and tested within the FPGA and simulation environment.
